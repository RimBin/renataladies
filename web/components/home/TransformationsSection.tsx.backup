'use client';'use client';



import { useState } from 'react';import { useState } from 'react';

import Reveal from '@/components/ui/Reveal';import Reveal from '@/components/ui/Reveal';

import { transformations } from '@/lib/transformations';import { transformations } from '@/lib/transformations';

import { GradientButton } from '@/components/ui/GradientButton';import { GradientButton } from '@/components/ui/GradientButton';

import { ChevronLeft, ChevronRight } from 'lucide-react';import { ChevronLeft, ChevronRight } from 'lucide-react';



export default function TransformationsSection() {export default function TransformationsSection() {

  const [currentIndex, setCurrentIndex] = useState(0);  const [currentIndex, setCurrentIndex] = useState(0);



  const nextSlide = () => {  const nextSlide = () => {

    setCurrentIndex((prev) => (prev + 1) % transformations.length);    setCurrentIndex((prev) => (prev + 1) % transformations.length);

  };  };



  const prevSlide = () => {  const prevSlide = () => {

    setCurrentIndex((prev) => (prev - 1 + transformations.length) % transformations.length);    setCurrentIndex((prev) => (prev - 1 + transformations.length) % transformations.length);

  };  };



  const currentStory = transformations[currentIndex];  const currentStory = transformations[currentIndex];



  return (  return (

    <section className="bg-gradient-to-b from-neutral-50/30 to-white py-16 sm:py-24">    <section className='bg-gradient-to-b from-neutral-50/30 to-white py-16 sm:py-24'>

      <div className="w-[92%] max-w-[1440px] mx-auto px-4 md:px-6">      <div className='w-[92%] max-w-[1440px] mx-auto px-4 md:px-6'>

        <Reveal>        <Reveal>

          <div className="flex flex-col md:flex-row justify-between md:items-center gap-8 mb-12">          <div className='flex flex-col md:flex-row justify-between md:items-center gap-8 mb-12'>

            <div className="md:w-3/5">            <div className='md:w-3/5'>

              <h2 className="text-4xl sm:text-5xl font-bold text-rlText text-center md:text-left">              <h2 className='text-4xl sm:text-5xl font-bold text-rlText text-center md:text-left'>

                Tikros <span className="gradient-text">transformacijos</span>                Tikros <span className='gradient-text'>transformacijos</span>

              </h2>              </h2>

            </div>            </div>

            <div className="md:w-2/5">            <div className='md:w-2/5'>

              <p className="text-center md:text-left text-base sm:text-lg text-neutral-600">              <p className='text-center md:text-left text-base sm:text-lg text-neutral-600'>

                Realūs rezultatai moterų, kurios dirbo su Renata.                Realūs rezultatai moterų, kurios dirbo su Renata.

              </p>              </p>

            </div>            </div>

          </div>          </div>

        </Reveal>        </Reveal>



        <div className="relative">        <div className='relative'>

          <Reveal delay={0.2}>          <Reveal delay={0.2}>

            <div className="bg-white rounded-2xl shadow-[0_4px_24px_rgba(0,0,0,0.04)] overflow-hidden max-w-5xl mx-auto">            <div className='bg-white rounded-2xl shadow-[0_4px_24px_rgba(0,0,0,0.04)] overflow-hidden max-w-5xl mx-auto'>

              <div className="relative aspect-[16/9] overflow-hidden bg-neutral-100">              <div className='relative aspect-[16/9] overflow-hidden bg-neutral-100'>

                <img                <img

                  src={currentStory.image}                  src={currentStory.image}

                  alt={currentStory.alt}                  alt={currentStory.alt}

                  className="w-full h-full object-contain"                  className='w-full h-full object-contain'

                  loading="lazy"                  loading='lazy'

                  width={1600}                  width={1600}

                  height={900}                  height={900}

                />                />

                {currentStory.caption && (                {currentStory.caption && (

                  <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent p-6">                  <div className='absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent p-6'>

                    <p className="text-white text-sm sm:text-base font-medium drop-shadow-lg">                    <p className='text-white text-sm sm:text-base font-medium drop-shadow-lg'>

                      {currentStory.caption}                      {currentStory.caption}

                    </p>                    </p>

                  </div>                  </div>

                )}                )}

              </div>              </div>



              <div className="p-6 sm:p-8">              <div className='p-6 sm:p-8'>

                <div className="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6">                <div className='flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6'>

                  <div>                  <div>

                    <h3 className="text-2xl sm:text-3xl font-bold text-rlText mb-2">                    <h3 className='text-2xl sm:text-3xl font-bold text-rlText mb-2'>

                      {currentStory.name}, {currentStory.age} m.                      {currentStory.name}, {currentStory.age} m.

                    </h3>                    </h3>

                    <p className="text-base sm:text-lg text-neutral-600 font-medium italic">                    <p className='text-base sm:text-lg text-neutral-600 font-medium italic'>

                      &quot;{currentStory.result}&quot;                      "{currentStory.result}"

                    </p>                    </p>

                  </div>                  </div>

                  {currentStory.duration && (                  {currentStory.duration && (

                    <div className="flex-shrink-0 flex items-center gap-2 text-sm font-semibold text-purple-700 bg-purple-50 px-4 py-2 rounded-full">                    <div className='flex-shrink-0 flex items-center gap-2 text-sm font-semibold text-purple-700 bg-purple-50 px-4 py-2 rounded-full'>

                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" className="w-5 h-5">                      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor' className='w-5 h-5'>

                        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z" clipRule="evenodd" />                        <path fillRule='evenodd' d='M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z' clipRule='evenodd' />

                      </svg>                      </svg>

                      <span>{currentStory.duration}</span>                      <span>{currentStory.duration}</span>

                    </div>                    </div>

                  )}                  )}

                </div>                </div>

                                

                {currentStory.weight && (                {currentStory.weight && (

                  <div className="pt-4 border-t border-neutral-100">                  <div className='pt-4 border-t border-neutral-100'>

                    <p className="text-base sm:text-lg font-semibold text-neutral-700">                    <p className='text-base sm:text-lg font-semibold text-neutral-700'>

                      Svorio pokytis: <span className="text-xl sm:text-2xl font-bold gradient-text">{currentStory.weight}</span>                      Svorio pokytis: <span className='text-xl sm:text-2xl font-bold gradient-text'>{currentStory.weight}</span>

                    </p>                    </p>

                  </div>                  </div>

                )}                )}

              </div>              </div>

            </div>            </div>

          </Reveal>          </Reveal>



          <button          <button

            onClick={prevSlide}            onClick={prevSlide}

            className="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 sm:-translate-x-6 w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-white shadow-lg flex items-center justify-center text-rlText hover:bg-gradient-to-r hover:from-[#F28ACD] hover:to-[#AB57F4] hover:text-white transition-all duration-300 z-10"            className='absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 sm:-translate-x-6 w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-white shadow-lg flex items-center justify-center text-rlText hover:bg-gradient-to-r hover:from-[#F28ACD] hover:to-[#AB57F4] hover:text-white transition-all duration-300 z-10'

            aria-label="Ankstesnė transformacija"            aria-label='Ankstesnė transformacija'

          >          >

            <ChevronLeft className="w-6 h-6 sm:w-7 sm:h-7" />            <ChevronLeft className='w-6 h-6 sm:w-7 sm:h-7' />

          </button>          </button>

          <button          <button

            onClick={nextSlide}            onClick={nextSlide}

            className="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 sm:translate-x-6 w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-white shadow-lg flex items-center justify-center text-rlText hover:bg-gradient-to-r hover:from-[#F28ACD] hover:to-[#AB57F4] hover:text-white transition-all duration-300 z-10"            className='absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 sm:translate-x-6 w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-white shadow-lg flex items-center justify-center text-rlText hover:bg-gradient-to-r hover:from-[#F28ACD] hover:to-[#AB57F4] hover:text-white transition-all duration-300 z-10'

            aria-label="Kita transformacija"            aria-label='Kita transformacija'

          >          >

            <ChevronRight className="w-6 h-6 sm:w-7 sm:h-7" />            <ChevronRight className='w-6 h-6 sm:w-7 sm:h-7' />

          </button>          </button>



          <div className="flex items-center justify-center gap-2 mt-6">          <div className='flex items-center justify-center gap-2 mt-6'>

            {transformations.map((_, index) => (            {transformations.map((_, index) => (

              <button              <button

                key={index}                key={index}

                onClick={() => setCurrentIndex(index)}                onClick={() => setCurrentIndex(index)}

                className={`h-2 rounded-full transition-all duration-300 ${                className={h-2 rounded-full transition-all duration-300 }

                  index === currentIndex                aria-label={Eiti į  transformaciją}

                    ? 'w-8 bg-gradient-to-r from-[#F28ACD] to-[#AB57F4]'              />

                    : 'w-2 bg-neutral-300 hover:bg-neutral-400'            ))}

                }`}          </div>

                aria-label={`Eiti į ${index + 1} transformaciją`}        </div>

              />

            ))}        <Reveal delay={0.4}>

          </div>          <div className='text-center mt-12'>

        </div>            <p className='text-neutral-600 mb-6'>

              Nori tapti kita sėkmės istorija?

        <Reveal delay={0.4}>            </p>

          <div className="text-center mt-12">            <GradientButton as='a' href='#paslaugos' withArrow icon='et-circle-cutout' iconHover='slide-right' className='text-lg shadow-lg'>

            <p className="text-neutral-600 mb-6">              Pradėk savo kelionę

              Nori tapti kita sėkmės istorija?            </GradientButton>

            </p>          </div>

            <GradientButton as="a" href="#paslaugos" withArrow icon="et-circle-cutout" iconHover="slide-right" className="text-lg shadow-lg">        </Reveal>

              Pradėk savo kelionę      </div>

            </GradientButton>    </section>

          </div>  );

        </Reveal>}

      </div>
    </section>
  );
}
